---
layout: post
title: Using grep on files with no newlines
tags: [unix, regex]
---
I had a big, automatically-generated HTML file without newlines and wanted to see all occurences of a certain image name. Using <code>grep my_image.png</code> just outputs the whole file - not useful! While writing the question to the unix section of StackExchange, I found a way to do it with <code>grep</code>:

<pre> grep -oE ".{30}my_image.{30}"</pre>

This command yielded the desired result: Each occurence on a separate line, with 30 characters before and after.

<em>Explanation</em>:

<ul>
	<li>The <code>-o</code> option changes the default <code>grep</code> behavior (print matched line) to printing only the matched string.</li>
	<li>The <code>-E</code> activates the matching of regular expressions, which I use in the matching expression. </li>
	<li><code>.{30}</code> is a regular expression meaning "any 30 characters", so i can see the surrounding context of the match. If you are using this, you could use <code>.{0,30}</code> to avoid missing matches that are not in the first/last 30 characters of the file but that slows down the search.</li>
</ul>
