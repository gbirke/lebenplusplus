---
layout: post
title: jEdit Syntax highlighting for Asterisk AEL files
tags: [ael, asterisk, github, jEdit, xml]
---

<p>
These days I'm doing some Asterisk work, creating AEL dial plan scripts for call center agents: Logging in and out, checking if the hotlines are staffed before allowing a pause, logging agent events to a separate logfile. For the scripts I'm using my favourite cross-platform editor jEdit. At the moment, jEdit has no syntax highlighting for AEL files, so I put one together myself. For a while, the file was hosted on snippets.dzone.com but since I improved on it, I'd rather host it on GitHub for easier download and modification.
</p>
<p>
Here it is:</p>
<script src="http://gist.github.com/534422.js?file=ael.xml"></script>
<noscript>
<pre>
<?xml version="1.0"?>

&lt;!DOCTYPE MODE SYSTEM &quot;xmode.dtd&quot;&gt;

&lt;MODE&gt;
    &lt;PROPS&gt;
        &lt;PROPERTY NAME=&quot;lineComment&quot; VALUE=&quot;//&quot; /&gt;
    &lt;/PROPS&gt;

    &lt;RULES&gt;
        &lt;EOL_SPAN TYPE=&quot;COMMENT1&quot;&gt;//&lt;/EOL_SPAN&gt;
        &lt;SPAN TYPE=&quot;KEYWORD3&quot; NO_LINE_BREAK=&quot;TRUE&quot;&gt;
          &lt;BEGIN&gt;${&lt;/BEGIN&gt;
          &lt;END&gt;}&lt;/END&gt;
        &lt;/SPAN&gt;
        &lt;MARK_FOLLOWING TYPE=&quot;KEYWORD2&quot;&gt;&amp;amp;&lt;/MARK_FOLLOWING&gt;
        &lt;MARK_FOLLOWING TYPE=&quot;LABEL&quot; MATCH_TYPE=&quot;KEYWORD1&quot;&gt;case &lt;/MARK_FOLLOWING&gt;
        &lt;MARK_PREVIOUS TYPE=&quot;LABEL&quot;&gt;:&lt;/MARK_PREVIOUS&gt;
        &lt;MARK_PREVIOUS TYPE=&quot;FUNCTION&quot; MATCH_TYPE=&quot;OPERATOR&quot;&gt;(&lt;/MARK_PREVIOUS&gt;
        &lt;SPAN TYPE=&quot;LITERAL1&quot; NO_LINE_BREAK=&quot;TRUE&quot;&gt;
          &lt;BEGIN&gt;&quot;&lt;/BEGIN&gt;
          &lt;END&gt;&quot;&lt;/END&gt;
        &lt;/SPAN&gt;
        &lt;KEYWORDS&gt;
          &lt;KEYWORD1&gt;if&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;else&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;while&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;case&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;switch&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;break&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;jump&lt;/KEYWORD1&gt;
          &lt;KEYWORD1&gt;goto&lt;/KEYWORD1&gt;
          &lt;KEYWORD4&gt;context&lt;/KEYWORD4&gt;
          &lt;KEYWORD4&gt;macro&lt;/KEYWORD4&gt;
        &lt;/KEYWORDS&gt;
    &lt;/RULES&gt;
&lt;/MODE&gt;
</pre>
</noscript>
<p>How to install:</p>
<ol>
<li>Locate your jEdit settings folder. On Mac OS X and Linux it's usually a folder called <code>.jedit</code> inside your home folder. On Windows it's a folder also called <code>.jedit</code> in your home folder . It can be a hidden folder, so you may have to adjust the view settings of your file manager.</li>
<li>Save the <code>ael.xml</code> file.</li>
<li>Put the file in the folder <code>.jedit/modes</code>.</li>
<li>Edit the file <code>.jedit/modes/catalog</code> and add the following line:
<pre class="xml"> &lt;MODE NAME=&quot;AEL&quot; FILE=&quot;ael.xml&quot; FILE_NAME_GLOB=&quot;*.ael&quot; /&gt;</pre></li>
</ol>
<p>jEdit will automatically detect all changes and refresh the snytax highlighting.</p>
<p>At the moment, handling of nested braces, for example in an expression like <code>Set(MyExten=${EXTEN:0:${MyLength}})</code> is not highlighted properly. If you'd like to contribute here or do other changes, feel free to do so.</p>
